define(["jquery","BaseView","backbone","../lib/bootstrap-3.4.1"],function(e,t,n){"use strict";var r=t.extend({el:"#theModal",initialize:function(){this.$body=e("body"),this.isOpen=!1},events:{"click .close, .ok":"hideModal"},afterRender:function(){this.view.afterRender(),this.showModal(),this.$el.trigger("show.bs.modal"),this.shouldListenToEsc(!0)},exists:function(){return this.$el.length?!0:!1},closeModal:function(t){t.which===27&&this.hideModal()},shouldListenToEsc:function(n){n?this.$body.on("keydown",e.proxy(this.closeModal,this)):this.$body.off("keydown",e.proxy(this.closeModal,this))},setContent:function(n,r){return this.view=n,this.view.setElement(this.$el),this.template=n.template,n.model?this.model=n.model:this.collection=n.collection,this.serialize=e.proxy(n.serialize,n),(r===undefined||r)&&this.render(),this},showModal:function(){this.isOpen||(this.$el.modal("show"),this.isOpen=!0)},hideModal:function(t){var r=this.$(".close");this.isOpen&&(this.isOpen=!1,this.$el.modal("hide")),t&&t.preventDefault(),this.shouldListenToEsc(!1);if(r.length!==0){var i=r.attr("href");i=i.substring(i.indexOf("/businessprofile/")+16),n.history.navigate(i,{trigger:!0})}return!1}});return new r});